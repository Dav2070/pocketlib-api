(var json (parse_json (get_body)))
(var status 201)

(# Get the jwt)
(var jwt (get_header Authorization))
(if (is_nil jwt) (
	(# Show error for missing jwt)
	(func render_errors ((list (get_error 2102)) 400))
))

(# Make sure content type is json)
(var content_type (get_header Content-Type))
(func validate_json (content_type))

(# Decode the jwt)
(var decoded_jwt (func validate_jwt (jwt)))

(log decoded_jwt)